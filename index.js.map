{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";AAAA;;GAEG;AAEH,6BAA8B;AAC9B,kCAAmC;AACnC,+BAAgC;AAEhC,SAAgB,YAAY,CAAC,GAAW;IAEvC,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAE5B,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EACjC;QACC,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;KACpD;IAED,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,iBAAiB,CAAC,CAAC;IAE9D,IAAI,EAAY,CAAC;IAEjB,IAAI,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EACvB;QACC,EAAE,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,aAAa,CAAA;KACxC;IAED,OAAO,EAAE,IAAI,IAAI,CAAC;AACnB,CAAC;AAED,kBAAe,YAAY,CAAC;AAE5B,aAAa;AACb,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,OAAO,EAAE;IACpC,YAAY;CACZ,CAAC,CAAC;AAGH,iBAAS,YAAY,CAAC","sourcesContent":["/**\n * Created by user on 2018/9/20/020.\n */\n\nimport path = require('path');\nimport pkgDir = require('pkg-dir');\nimport fs = require('fs-extra');\n\nexport function yarnListLink(cwd: string)\n{\n\tlet root = pkgDir.sync(cwd);\n\n\tif (!root || !fs.existsSync(root))\n\t{\n\t\tthrow new Error(`can't found current package root`);\n\t}\n\n\tlet file = path.join(root, 'node_modules', '.yarn-integrity');\n\n\tlet ls: string[];\n\n\tif (fs.existsSync(file))\n\t{\n\t\tls = fs.readJSONSync(file).linkedModules\n\t}\n\n\treturn ls || null;\n}\n\nexport default yarnListLink;\n\n// @ts-ignore\nObject.assign(yarnListLink, exports, {\n\tyarnListLink,\n});\n\n// @ts-ignore\nexport = yarnListLink;\n"]}