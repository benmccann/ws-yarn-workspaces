"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function notNpxMaybe(__dirname) {
    return __dirname && /node_modules/i.test(__dirname) || !require('@yarn-tool/is-npx').isNpx({
        __dirname,
    });
}
exports.notNpxMaybe = notNpxMaybe;
function updateNotifier(__dirname, force) {
    if (force || notNpxMaybe(__dirname)) {
        const _updateNotifier = require('update-notifier');
        const pkg = require(require('path').join(__dirname, 'package.json'));
        const obj = _updateNotifier({ pkg });
        obj.notify({
            // @ts-ignore
            shouldNotifyInNpmScript: true,
        });
        return obj;
    }
    return null;
}
exports.updateNotifier = updateNotifier;
exports.default = updateNotifier;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLFNBQWdCLFdBQVcsQ0FBQyxTQUFpQjtJQUU1QyxPQUFPLFNBQVMsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzFGLFNBQVM7S0FDVCxDQUFDLENBQUE7QUFDSCxDQUFDO0FBTEQsa0NBS0M7QUFFRCxTQUFnQixjQUFjLENBQUMsU0FBaUIsRUFBRSxLQUFlO0lBRWhFLElBQUksS0FBSyxJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsRUFDbkM7UUFDQyxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQW9CLENBQUM7UUFDdEUsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDckUsTUFBTSxHQUFHLEdBQUcsZUFBZSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUVyQyxHQUFHLENBQUMsTUFBTSxDQUFDO1lBQ1YsYUFBYTtZQUNiLHVCQUF1QixFQUFFLElBQUk7U0FDN0IsQ0FBQyxDQUFDO1FBRUgsT0FBTyxHQUFHLENBQUM7S0FDWDtJQUVELE9BQU8sSUFBSSxDQUFBO0FBQ1osQ0FBQztBQWpCRCx3Q0FpQkM7QUFFRCxrQkFBZSxjQUFjLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCB0eXBlIElVcGRhdGVOb3RpZmllciA9IHR5cGVvZiBpbXBvcnQoJ3VwZGF0ZS1ub3RpZmllcicpO1xuZXhwb3J0IHR5cGUgSVVwZGF0ZU5vdGlmaWVyT2JqZWN0ID0gUmV0dXJuVHlwZTxJVXBkYXRlTm90aWZpZXI+O1xuXG5leHBvcnQgZnVuY3Rpb24gbm90TnB4TWF5YmUoX19kaXJuYW1lOiBzdHJpbmcpOiBib29sZWFuXG57XG5cdHJldHVybiBfX2Rpcm5hbWUgJiYgL25vZGVfbW9kdWxlcy9pLnRlc3QoX19kaXJuYW1lKSB8fCAhcmVxdWlyZSgnQHlhcm4tdG9vbC9pcy1ucHgnKS5pc05weCh7XG5cdFx0X19kaXJuYW1lLFxuXHR9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTm90aWZpZXIoX19kaXJuYW1lOiBzdHJpbmcsIGZvcmNlPzogYm9vbGVhbik6IElVcGRhdGVOb3RpZmllck9iamVjdFxue1xuXHRpZiAoZm9yY2UgfHwgbm90TnB4TWF5YmUoX19kaXJuYW1lKSlcblx0e1xuXHRcdGNvbnN0IF91cGRhdGVOb3RpZmllciA9IHJlcXVpcmUoJ3VwZGF0ZS1ub3RpZmllcicpIGFzIElVcGRhdGVOb3RpZmllcjtcblx0XHRjb25zdCBwa2cgPSByZXF1aXJlKHJlcXVpcmUoJ3BhdGgnKS5qb2luKF9fZGlybmFtZSwgJ3BhY2thZ2UuanNvbicpKTtcblx0XHRjb25zdCBvYmogPSBfdXBkYXRlTm90aWZpZXIoeyBwa2cgfSk7XG5cblx0XHRvYmoubm90aWZ5KHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHNob3VsZE5vdGlmeUluTnBtU2NyaXB0OiB0cnVlLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG5cdHJldHVybiBudWxsXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVwZGF0ZU5vdGlmaWVyXG4iXX0=